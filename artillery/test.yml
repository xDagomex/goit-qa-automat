config:
  target: "https://api.weatherstack.com"
  phases:
    - duration: 60
      arrivalRate: 5
      name: Steady Load Phase

  headers:
    Content-Type: "application/json"

  ensure:
    - "http.response_time.p95 < 800"
    - "http.response_time.mean < 500"
    - "http.requests > 100"

scenarios:
  - name: Weather API Testing
    flow:
      # GET request to fetch weather data
      - get:
          url: "/current"
          query:
            access_key: "YOUR_ACCESS_KEY"  # Replace with your actual access key
            query: "New York"
            units: "m"

      # POST request with embedded payload data
      - post:
          url: "/current"
          json:
            access_key: "YOUR_ACCESS_KEY"  # Replace with your actual access key
            query: "London"
            units: "m"
